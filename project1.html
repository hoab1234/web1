<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8">
    <title></title>
  </head>
  <body>

    <header>
      <div class="wrapper">
        <h1>QUERY AND DEBATE</h1>
        <nav>
          <ul class = "menu">
            <li><a href="project1.html">Home</a></li>
            <li><a href="Query.html">Query</a></li>
            <li><a href="Debate.html">Debate</a></li>
            <li><a href="Notifications.html">Notifications</a></li>

          </ul>
        </nav>
      </div>
  <input type = "button" id="authBtn" value = "checking..." style="position:relative; top:25px; left: 60%;"  onclick = "
                  if(this.value === 'Login'){
                    FB.login(function(res){
                        console.log('login =>',res);
                        callback(res);
                      });
                  else{
                    FB.logout(function(res){
                        console.log('logout =>',res);
                        callback(res);
                      });

                  }
                  ">

      <script>
      var callback = function(response){
        console.log(response);
        //statusChangeCallback(response);
        if(response.status === 'connected'){
          document.querySelector('#authBtn').value = 'Logout';
        }
        else{
          document.querySelector('#authBtn').value = 'Login';
        }
      }

      //페북 sdk 로드하는 부분
      //페북 sdk파일을 페북서버에서 받아서 가져오는 것
      (function(d, s, id) {                      // Load the SDK asynchronously
     var js, fjs = d.getElementsByTagName(s)[0];
     if (d.getElementById(id)) return;
     js = d.createElement(s); js.id = id;
     js.src = "https://connect.facebook.net/en_US/sdk.js";
     fjs.parentNode.insertBefore(js, fjs);
   }(document, 'script', 'facebook-jssdk'));

//fbAsyncInit은 약속되어 있는것, 초기화가 끝난다음 fbAsyncInit변수를 윈도우에 지정을 하고
//개를 함수로 만들어주라고 해논것, sdk다운이 끝나면 그 함수를 실행하겠다고 해놓은것
// fb.init이라는 것을 실행시켜서 초기화를 해야함.(메소드/함수)
//중괄호로 끝나는 것을 보니 객체를 인자로 받음
   window.fbAsyncInit = function() {
   FB.init({
     appId      : '544251936366108',
     cookie     : true,                     // Enable cookies to allow the server to access the session.
     xfbml      : true,                     // Parse social plugins on this webpage.
     version    : 'v5.0'           // Use this Graph API version for this call.
   });


 FB.getLoginStatus(callback);

};
      </script>





    </header>


      <style>
        body{background-color:  #006F84;}
        .wrapper{width: 1170px; margin: 0 auto;}
        .clearfix{content: ''; display: block; clear: both;}

        *{margin: 0; padding: 0;}
        li{list-style: none;}
        a{text-decoration: none;}

        .menu {float:right;}
        .menu li{float: left;}
        .menu a{line-height: 75px; color: white; padding: 0 15px; display: block;}

        header{height: 75px; background-color: #006F84; border: 1px solid #253342;
               position: fixed; width: 100%; z-index: 9999; top: 0; left: 0;}
        h1{color: white; line-height: 75px; float:left; .menu{float:right;}}

        .msg{color : white;}

      </style>





  </body>
</html>
